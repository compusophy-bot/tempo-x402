# ===========================================================================
# SERVER — receives payments
# ===========================================================================

# Your wallet address on Tempo Moderato testnet
EVM_ADDRESS=0xYOUR_WALLET_ADDRESS

# Where the facilitator is running (default: local)
FACILITATOR_URL=http://localhost:4022

# Server port (default: 4021)
# PORT=4021

# HMAC shared secret for authenticating requests to the facilitator.
# Required in production; if unset, HMAC auth is skipped (dev mode).
# FACILITATOR_SHARED_SECRET=your-secret-here

# Comma-separated allowed CORS origins (default: http://localhost:*)
# ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# Rate limit: requests per minute per IP (default: 60)
# RATE_LIMIT_RPM=60

# ===========================================================================
# CLIENT — pays for requests
# ===========================================================================

# Private key of the wallet that pays for requests
# Fund via Tempo faucet (see README)
EVM_PRIVATE_KEY=0xYOUR_PRIVATE_KEY

# Resource server URL
RESOURCE_SERVER_URL=http://localhost:4021
ENDPOINT_PATH=/blockNumber

# Approval amount in raw token units (default: max uint256).
# WARNING: U256::MAX approval grants unlimited spend authority to the facilitator.
# APPROVE_AMOUNT=115792089237316195423570985008687907853269984665640564039457584007913129639935

# ===========================================================================
# FACILITATOR — verifies & settles payments on-chain
# ===========================================================================

# Private key for the facilitator wallet (executes transferFrom)
FACILITATOR_PRIVATE_KEY=0xYOUR_FACILITATOR_PRIVATE_KEY

# Facilitator's address (needed by the approve script)
FACILITATOR_ADDRESS=0xYOUR_FACILITATOR_ADDRESS

# Facilitator port (default: 4022)
# FACILITATOR_PORT=4022

# HMAC shared secret — must match the server's FACILITATOR_SHARED_SECRET.
# Required in production; if unset, HMAC auth is skipped (dev mode).
# FACILITATOR_SHARED_SECRET=your-secret-here

# Comma-separated allowed CORS origins (default: http://localhost:*)
# ALLOWED_ORIGINS=https://yourdomain.com

# Rate limit: requests per minute per IP (default: 120)
# RATE_LIMIT_RPM=120

# ===========================================================================
# TEMPO — blockchain config
# ===========================================================================

# TIP-20 token to use (default: pathUSD)
# pathUSD:  0x20c0000000000000000000000000000000000000
# AlphaUSD: 0x20c0000000000000000000000000000000000001
# BetaUSD:  0x20c0000000000000000000000000000000000002
# TEMPO_TOKEN=0x20c0000000000000000000000000000000000000

# Network: Tempo Moderato (Testnet)
#   Chain ID:  42431
#   RPC:       https://rpc.moderato.tempo.xyz
#   Explorer:  https://explore.moderato.tempo.xyz
#   Faucet:    cast rpc tempo_fundAddress <ADDR> --rpc-url https://rpc.moderato.tempo.xyz

# ===========================================================================
# SELF-REPLICATING INSTANCE (v0.6+)
# ===========================================================================

# Enable automatic identity bootstrap (generates wallet, injects env vars)
# AUTO_BOOTSTRAP=true

# Filesystem path for identity persistence (default: /data/identity.json)
# IDENTITY_PATH=/data/identity.json

# Parent instance URL (set automatically by parent during clone)
# PARENT_URL=https://parent-instance.up.railway.app

# Instance ID override (default: RAILWAY_SERVICE_ID or random UUID)
# INSTANCE_ID=my-instance-id

# Railway API token (required for clone operations)
# RAILWAY_TOKEN=your-railway-api-token

# Railway project ID (required for clone operations)
# RAILWAY_PROJECT_ID=your-project-id

# Docker image for child clones (default: ghcr.io/compusophy/tempo-x402:latest)
# DOCKER_IMAGE=ghcr.io/compusophy/tempo-x402:latest

# Price to charge for cloning (e.g., "$0.10")
# CLONE_PRICE=$0.10

# Amount of pathUSD to send to child instances for initial funding
# CLONE_FUNDING_AMOUNT=100000

# Maximum number of children this instance can spawn (default: 10)
# CLONE_MAX_CHILDREN=10
